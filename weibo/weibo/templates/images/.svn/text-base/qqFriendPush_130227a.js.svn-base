(function(){MI["r/qqFriendPush"]=1;MI.QQFriendPush=function(a){function l(f,h){h=h?h:100;MI.ajax({url:"http://zhaoren.t.qq.com/asyn/newQQtipsfloatView.php",success:function(c){c=MI.json(c);if(0==c.result){"a"==a.ftype&&1==c.unit?(a.iPos=99,a.type=1):"a"==a.ftype&&0==c.unit?(a.iPos=231,a.type=2):"b"==a.ftype&&1==c.unit?(a.iPos=190,a.type=1):"b"==a.ftype&&0==c.unit&&(a.iPos=232,a.type=2);d=c;d.start=0;if(!b.builed){b.show({html:'<div class="qq_friend_mute">\t<div class="hd"><a href="javascript:;" class="close_pop" title="关闭">×</a><a href="javascript:;" class="change">[换一换]</a>\t</div>\t<div class="bd"><div class="suc_pn" style="display:none;">\t<div class="pop_rst_box pop_rst_box_succeed clear"><div class="ui_ico_s tit"><i class="ui_sucico"></i><span class="tit_tx">全部收听成功！</span></div>\t</div></div><div class="bd_inner">\t<div class="tips_pn" style="'+(1==a.type?"":"display:none;")+'"><div class="tips_inner clear">\t<span class="left">为你找到了开通微博的QQ好友:</span>\t<a href="javascript:;" class="close_tip right" title="关闭" style="display:none;">×</a></div>\t</div>\t<div class="scroll_pn loading2">\t<ul>\t</ul>\t</div></div>\t</div>\t<div class="fd"><a href="javascript:;" class="gb_btn gb_btn3"><i class="icon icon_fo2"></i><span class="t">收听他们</span></a><span class="gb_foed gb_fo1" style="display:none;"><i class="icon icon_sfo"></i>已收听</span><span class="c_tx6 ml10">共<span class="num"></span>位用户</span>\t</div> </div>',width:680,close:0});$$(b._wrap,".DWrap")[0].style.padding="0 0 0 0";var e=UI.height($$(b._body,".qq_friend_mute .bd_inner")[0])-UI.height($$(b._body,".qq_friend_mute .tips_pn")[0]);$$(b._body,".qq_friend_mute .scroll_pn")[0].style.height=e?e+"px":"auto";UI.EA($$(b._body,".close_pop")[0],"click",function(){b.hide();MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:18,id:a.id})});$$(b._body,".hd .change")[0].onclick=function(){d?m(d,20):l(m,20);MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:9,id:a.id})};UI.EA($$(b._body,".tips_inner a")[0],"click",function(){UI.hide($$(b._body,".tips_pn")[0])});UI.removeClass($$(b._body,".scroll_pn")[0],"loading2");b.builed=1}f&&UI.isFunction(f)&&f(c,h)}}})}function m(f,h){var c=[],e=0,i=[],j=[],k=0;26>f.count&&UI.hide($$(b._body,".change")[0]);UI.each(f.listInfo,function(a,b){e>=d.start&&!a.followed&&(c.push('<li><div class="clear">\t<div class="userimg"><a href="">\t<img src="'+(a.mini.url?a.mini.url+"/100":"http://mat1.gtimg.com/www/mb/img/p1/head_normal_80.png")+'" alt="" crs="" style="width:80px;height:80px;"></a>\t</div>\t<div class="info"><a href="http://t.qq.com/'+b+'" class="name" target="_blank">'+a.account.nick+"</a>"+(a.icon?a.icon:"")+'<div class="c_tx5" style="height:18px;"><span title="'+(a.intro?a.intro:"")+'">'+(a.intro?a.intro:"")+'</span></div><div class="c_tx5"><span title="QQ好友-'+a.bkp+'">QQ好友-'+a.bkp+'</span></div><div class="btn">\t<a href="javascript:;" class="gb_btn gb_btn3" account="'+b+'" uin="'+a.uin+'"><i class="icon icon_fo2"></i><span class="t">收听</span></a>\t<span class="gb_foed gb_fo1" style="display:none;"><i class="icon icon_sfo"></i>已收听，<a href="javascript:;" class="t delAttention" account="'+b+'" uin="'+a.uin+'">取消</a></span></div>\t</div></div>\t</li>'),i.push(b),j.push(a.uin));e++;if(e>=h+d.start)return d.start=e,e==f.count&&(d.start=0),!0;e==f.count&&(d.start=0)});6>f.count-e&&(d.start=0);k=$$(b._body,".num")[0].innerHTML=i.length;c=c.join("");i=i.join(",");j=j.join(",");MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:1,sBak2:j,id:a.id});$$(b._wrap,".scroll_pn ul")[0].innerHTML=c;UI.each($$(b._body,".bd .gb_btn"),function(g){UI.EA(g,"click",function(){1==k?UI.fireEvent($$(b._body,".fd .gb_btn")[0],"click"):MI.follow(UI.A(g,"account"),g,function(){UI.hide(g);UI.show(UI.next(g));d.listInfo[UI.A(g,"account")].followed=1;k--;MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:3,sBak2:UI.A(g,"uin"),id:a.id})});return!1})});UI.each($$(b._body,".bd .delAttention"),function(b){UI.EA(b,"click",function(){MI.follow(UI.A(b,"account"),b,function(){UI.hide(UI.parent(b));UI.show(UI.prev(UI.parent(b)));d.listInfo[UI.A(b,"account")].followed=0;k++;MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:8,sBak2:UI.A(b,"uin"),id:a.id})});return!1})});UI.each($$(b._body,".fd .gb_btn"),function(c){c.onclick=function(){MI.follow(i,c,function(){UI.each($$(b._body,".bd .gb_btn"),function(a){UI.hide(a);UI.show(UI.next(a))});if("none"==$$(b._body,".change")[0].style.display)return MI.tip("全部收听成功"),b.hide(),!1;if(1==a.type)MI.tip("全部收听成功"),$$(b._body,".tips_pn .left")[0].innerHTML="看来你对QQ好友很感兴趣！更多QQ好友推荐给你：",UI.show($$(b._body,".tips_pn")[0]),UI.hide($$(b._body,".change")[0]),l(m);else if(2==a.type){b.hide();var c=new MI.Dialog;UI.css(".D .recommend_plst{ padding: 20px 0}.D .recommend_plst .bd{ width: 400px; padding: 20px 0; font-size: 0}.D .recommend_plst .bd .scroll_pn{ width: 350px; overflow: hidden; margin: 0 2px 0 12px}.D .recommend_plst .bd ul{ width: 1000px;}.D .recommend_plst .bd li{ margin-right: 10px}.D .recommend_plst .bd .scroll_pn,.D .recommend_plst .bd li,.D .recommend_plst .bd .model_arr_left,.D .recommend_plst .bd .model_arr_right{ float: left;}.D .recommend_plst .bd .model_arr_left,.D .recommend_plst .bd .model_arr_right{ padding-top: 8px}.D .recommend_plst .bd img{ width: 40px; height: 40px}.D .recommend_plst .fd .gb_btn{ margin-right: 10px}\t");c.show({title:'<h1 class="DmainTit">推荐收听</h1>',html:'<div class="recommend_plst">\t<div class="hd">我们又帮你找到了<span class="count"></span>位QQ好友：</div>\t<div class="bd clear"><a href="#" class="model_arr_left prev" style="display:none;"><em class="leftarr_icon"></em></a><span class="model_arr_left"><em class="leftarr_icon_gray"></em></span><div class="scroll_pn">\t<ul>\t</ul></div><a href="#" class="model_arr_right next"><em class="rigarr_icon"></em></a><span class="model_arr_right" style="display:none;"><em class="rigarr_icon_gray"></em></span>\t</div>\t<div class="fd clear"><div class="right">\t<a href="javascript:;" class="gb_btn gb_btn3"><i class="icon icon_fo2"></i><span class="t">收听他们</span></a>\t<a href="http://zhaoren.t.qq.com/qqfrds.php" class="gb_btn gb_btn5" target="_blank"><span class="t">查看全部</span></a></div>\t</div></div>'});UI.EA(c._close,"click",function(){MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:18,id:a.id})});UI.EA($$(c._body,".gb_btn5")[0],"click",function(){MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:10,id:a.id})});l(function(b){var d=[],e=[];UI.each(b.listInfo,function(a,b){d.push('<li>\t<a href="http://t.qq.com/'+b+'" title="QQ好友-'+a.bkp+'"><img src="'+(a.mini.url?a.mini.url+"/40":"http://mat1.gtimg.com/www/mb/img/p1/head_normal_40.png")+'" target="_blank" alt="">\t</a></li>');e.push(a.uin)});d=d.join("");e=e.join(",");$$(c._body,".scroll_pn ul")[0].innerHTML=d;$$(c._body,".count")[0].innerHTML=b.count;$$(c._body,".scroll_pn ul")[0].style.width=50*b.count+"px";MI.app({Slide:function(){var b=new MI.Slide({target:$$(c._body,".scroll_pn")[0],loop:0,call:function(a){1==a?(UI.hide(b._prev),UI.show(UI.next(b._prev))):(UI.show(b._prev),UI.hide(UI.next(b._prev)));a==b.total?(UI.hide(b._next),UI.show(UI.next(b._next))):(UI.show(b._next),UI.hide(UI.next(b._next)))}});1>=b.total&&(UI.hide(b._next),UI.show(UI.next(b._next)));UI.EA(b._prev,"click",function(){MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:9,id:a.id})});UI.EA(b._next,"click",function(){MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:9,id:a.id})})}});MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:1,sBak2:e,id:a.id});UI.EA($$(c._body,".gb_btn3")[0],"click",function(){MI.follow(b.accountList,$$(c._body,".gb_btn3")[0],function(){MI.tip("全部收听成功",function(){c.hide();MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:4,sBak2:e,id:a.id})})})})})}});MI.feedBack({name:"qqFriendPush",iPos:a.iPos,iBak1:4,sBak2:j,id:a.id})}});$$(b._body,".ui_scroll")[0]&&UI.remove($$(b._body,".ui_scroll")[0]);if(6<k||1==a.type)$$(b._body,".scroll_pn")[0].scrollTop=0,MI.ScrollBar.create({node:$$(b._body,".scroll_pn")[0],auto:!0})}a=a||{};a.iPos=a.iPos||99;a.id=a.id||1191;a.type=a.type||1;a.ftype=a.ftype||"a";UI.css(".qq_friend_mute{ background: url(http://mat1.gtimg.com/www/mb/images/gxl/qq/qq_friend.png) no-repeat; width: 680px; height: 465px; font-size: 0}\t.qq_friend_mute .hd{ height: 89px; position: relative;}\t.qq_friend_mute .hd .close_pop,.qq_friend_mute .hd .change{ font-size: 12px; position: absolute;}\t.qq_friend_mute .hd .close_pop{ top: 15px; right: 15px; font-size: 20px; text-shadow:2px 2px 2px #FFFFFF; line-height: 20px; font-weight: bold; color: #bcbcbc}\t.qq_friend_mute .hd .close_pop:hover{ text-decoration: none}\t.qq_friend_mute .hd .change{ bottom:8px; right: 26px}\t.qq_friend_mute .bd{ width: 630px; height: 320px; position: relative; margin: 0 auto; overflow: hidden;}\t.qq_friend_mute .bd .bd_inner{ width: 630px; height: 320px; overflow: hidden;}\t.qq_friend_mute .bd li{ display: inline-block; font-size: 12px; width: 305px; padding: 14px 0 12px; overflow: hidden}\t.qq_friend_mute .bd li{ *display: inline;}\t.qq_friend_mute .bd .userimg img{ width: 80px; height: 80px}\t.qq_friend_mute .bd .userimg{ float: left; padding: 0 15px}\t.qq_friend_mute .bd .name{ font-size: 14px; line-height: 20px; font-weight: bold}\t.qq_friend_mute .bd .info .c_tx5,.qq_friend_mute .bd .info .name{ white-space: nowrap; overflow: hidden; text-overflow:ellipsis; width: 190px}\t.qq_friend_mute .bd .info{ float: left; line-height: 18px; white-space: nowrap; width:195px; overflow: hidden;}\t.qq_friend_mute .bd .btn{ padding-top: 5px}\t.qq_friend_mute .bd .suc_pn{ position: absolute; width: 200px; border: 5px solid #dadada; border-radius: 5px; background: #FFFFFF; top: 100px; left: 210px; z-index: 3}\t.qq_friend_mute .bd .pop_rst_box_succeed{ padding: 25px 15px}\t.qq_friend_mute .bd .tips_pn{ padding: 5px}\t.qq_friend_mute .bd .tips_inner{ border: 1px solid #ffe8a1; background: #ffffe9; color: #999999; font-size: 12px; padding: 3px 10px}\t.qq_friend_mute .bd .close_tip{ font-size: 14px; font-weight: bold; color: #c6c6c6; line-height: 20px}\t.qq_friend_mute .fd{ padding-top: 15px; text-align: center; font-size: 12px}\t.qq_friend_mute .scroll_pn{ position: relative;}\t.qq_friend_mute .tips_inner a:hover{ text-decoration:none;}\t.qq_friend_mute .gb_foed{height:21px;}");var b=new MI.Dialog,d;l(m,20)}})();/*version:95563*//*  |xGv00|ceff51063947c6462649e8a91a5b9ed1 */